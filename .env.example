# ============================================
# RAG Corp - Environment Configuration (EXAMPLE)
# ============================================
# Copy this file to .env and fill in your values.
# Do NOT commit secrets.

APP_ENV=development

# DB (DEV default)
DATABASE_URL=postgresql://ragcorp:change_me@localhost:5432/ragcorp

# AI (required for real LLM/embeddings)
GOOGLE_API_KEY=your_api_key_here

# Frontend
NEXT_PUBLIC_API_URL=http://127.0.0.1:8000

# Redis
REDIS_URL=
EMBEDDING_CACHE_BACKEND=memory

# DB Pool
DB_POOL_MIN_SIZE=2
DB_POOL_MAX_SIZE=10
DB_STATEMENT_TIMEOUT_MS=30000

# CORS
ALLOWED_ORIGINS=http://localhost:3000
CORS_ALLOW_CREDENTIALS=false

# Chunking
CHUNK_SIZE=900
CHUNK_OVERLAP=120

# API limits
MAX_TOP_K=20
MAX_INGEST_CHARS=100000
MAX_QUERY_CHARS=2000
MAX_TITLE_CHARS=200
MAX_SOURCE_CHARS=500

# Observability
OTEL_ENABLED=0
OTEL_EXPORTER_OTLP_ENDPOINT=

# Security
API_KEYS_CONFIG=
METRICS_REQUIRE_AUTH=false
RBAC_CONFIG=
RATE_LIMIT_RPS=10
RATE_LIMIT_BURST=20
MAX_BODY_BYTES=10485760
MAX_UPLOAD_BYTES=26214400

# Storage (S3/MinIO)
S3_ENDPOINT_URL=
S3_BUCKET=rag-documents
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_REGION=

# Healthcheck
HEALTHCHECK_GOOGLE_ENABLED=true

# RAG quality
PROMPT_VERSION=v2
MAX_CONTEXT_CHARS=12000
MAX_CONVERSATION_MESSAGES=12

# Retry
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_DELAY_SECONDS=1.0
RETRY_MAX_DELAY_SECONDS=30.0

# Dev Seed Admin (Local Development Only)
DEV_SEED_ADMIN=0
DEV_SEED_ADMIN_EMAIL=admin@local
DEV_SEED_ADMIN_PASSWORD=admin
DEV_SEED_ADMIN_ROLE=admin
DEV_SEED_ADMIN_FORCE_RESET=0

# Compose vars (used by compose.prod.yaml, etc.)
POSTGRES_USER=ragcorp
POSTGRES_PASSWORD=change_me
POSTGRES_DB=_
